# Default paths (system-wide installs)
# $Id: Makefile.in,v 1.5 2000/12/11 02:04:28 gte Exp $
#

# Standard defines
CXX = @CXX@

SHLIB_CXX = @SHLIB_CXX@
SHLIB_LD = @SHLIB_LD@

DEFS = @DEFS@

CXXFLAGS = @CXXFLAGS@ -I/usr/local/pgsql/include

BIN_PATH = @BIN_PATH@
LIB_PATH = @BIN_PATH@
LIBS = -L$(LIB_PATH) -L/usr/local/pgsql/lib -lgnuworld -lpq++ @LIBS@

RM = @RM@ -f
CP = @CP@
MV = @MV@
LN = @LN@
AR = @AR@
RANLIB = @RANLIB@

############ You shouldn't change anything below this line ###################

SHELL = /bin/sh

SRCS = cservice.cc \
	sqlChannel.cc \
	sqlUser.cc \
	SHOWCOMMANDSCommand.cc \
	ACCESSCommand.cc \
	LOGINCommand.cc \
	SEARCHCommand.cc \
	CHANINFOCommand.cc \
	MOTDCommand.cc \
	ISREGCommand.cc \
	SHOWIGNORECommand.cc \
	VERIFYCommand.cc \
	RANDOMCommand.cc
OBJS = $(patsubst %.cc, %.o, $(SRCS))
LIB = libcservice.so

all: $(OBJS) $(LIB)
everything: all
make: all

%.o: %.cc
	$(CXX) $(CXXFLAGS) -c $< -o $@

$(LIB): $(OBJS)
	$(SHLIB_LD) -o $(BIN_PATH)/libcservice.so $(OBJS) $(LIBS)

clean:
	$(RM) -f *.o $(BIN_PATH)/libcservice.so

distclean: clean

depend: $(SRCS)
	$(CXX) $(CXXFLAGS) -MM $(SRCS) >> Makefile

# DO NOT DELETE THIS LINE
