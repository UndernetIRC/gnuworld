# $Id: Makefile.in,v 1.5 2000/11/12 17:27:53 dan_karrels Exp $
# all		-- gnuworld
# clean		-- cleanup objects and executable
# distclean	-- everything =P

# Standard defines
CXX = @CXX@
DEFS = @DEFS@
LIBS = @LIBS@

# Set this to -g if you want to be able to debug the client, otherwise
# use -O to have the compiler do some optimization instead.
CXXFLAGS = @CXXFLAGS@

BIN_PATH = @BIN_PATH@
LIB_PATH = @LIB_PATH@

RM = @RM@
CP = @CP@
MV = @MV@
LN = @LN@

############ You shouldn't change anything below this line ###################

SHELL = /bin/sh
MAKE2 = $(MAKE) $(MFLAGS)
MFLAGS ='CXX=$(CXX)'					\
	'ANSIFLAGS=$(ANSIFLAGS)'			\
	'CXXFLAGS=$(CXXFLAGS)'				\
	'DEFS=$(DEFS)'					\
	'LDFLAGS=$(LDFLAGS)'				\
	'RM=$(RM)'

all: libgnuworld gnuworld
everything: all

libgnuworld: lib/Makefile
	@cd lib; $(MAKE2) all

gnuworld: src/Makefile Makefile libgnuworld
	@cd src; $(MAKE2) all

clean:
	@-if [ -f lib/Makefile ]; then cd lib; $(MAKE2) clean; fi
	@-if [ -f src/Makefile ]; then cd src; $(MAKE2) clean; fi

distclean cleandir realclean:
	$(RM) config.status config.cache
	$(RM) config.log include/defs.h
	@cd lib; $(MAKE2) distclean
	@cd src; $(MAKE2) distclean
	$(RM) src/Makefile lib/Makefile
	$(RM) Makefile

depend:
	@echo
	@echo "Building dependencies, this may take a moment..."
	@echo
	@cd lib; make depend
	@cd src; make depend
	@echo
	@echo "Finished building dependencies"
	@echo
